组件的话我理解是分成两种组件，一种是通用组件，一种是业务组件
## 通用组件
通用组件需要考虑单一责任原则，尽量的把能复用的组件做拆分，同时采用依赖反转原则，把一些可能涉及到业务上的逻辑移到外面去，保持组件功能的单一

## 业务组件
业务组件需要结合场景进行设计，需要考虑用户群体，用户习惯，业务场景等因素。
同样，业务组件也需要考虑单一责任原则，一个业务组件可以拆分的也进行拆分，比如一个选择器如果需求上是可以选择部门人员标签三种情况的，则可以根据选择器的样式功能拆分成多个子组件的集合
考虑未来业务场景来设计拓展性，根据当前开发人员的习惯来设计输入输出，同时也应该考虑未来可能出现的数据格式，很多情况下可以使用数组来接收输入，这样子未来拓展的时候会比较简单
依赖反转原则不一定要完全遵守，业务组件可以适当的内置一些公司通用的处理逻辑，比如一些接口的获取等，这些能极大的减少使用人员的成本

# 文档
组件库编写的时候一定要写文档，要把主要的输入输出写清楚，把一些未来的拓展点也可以注明一下，代码要写注释，最好写一下具体的实现流程
迫不得已要做一些没有向下兼容的功能的时候，考虑是否需要把组件单独部署，或者升级组件的大版本

# 打包
组件使用rollup打包比使用webpack打包，体积更小，原生支持esm

# 部署
公司里面是每个组件都有单独的项目，管理起来相对复杂，可以考虑使用monorepo来进行管理

# 版本
组件的版本分成四个部分，major,minor,path,pre-realease，根据不同的场景去升级组件版本，使用tag来把组件推到不同的分支，这样子就不会影响到线上代码


# 2024更新
### 功能分析
1. 功能是什么，用于解决什么问题？
2. 使用人群，使用动线，使用流程
### 架构
- 是一个组件还是多个组件？是解决一个问题还是一类问题？
    - 问题的共性是什么？能不能进行抽象封装？
- 组件的依赖是什么？比如基于什么框架？react/ui框架
    - 依赖的拓展性如何？能不能支持完成这个功能？可行性分析
### 战略分析
针对多个组件/解决方案需要进行分析
- 组件抽象后如何进行分层？
- 拓展性？
    - 开闭原则：用户会使用什么？不想用户使用什么？
    - 依赖倒置原则：如何新增组件，能不能外部动态挂载？
### 战术分析
针对单个组件/单个功能进行分析
- 组件/功能的形式是什么？需要提供组件还是一个hook？
- 有没有样式的参与？作为HOC只提供数据？
- 输入输出是什么？有什么功能可能需要定制？
- 数据的处理流程是什么？
- 使用到什么特殊的功能？比如打印，重度计算？需要进行可行性分析
- 业务上的依赖是什么？比如请求方法，是内置还是外部传入？
    - 通用组件需要外部传入，业务组件可以内置默认值加上拓展修改
- 目前的需求未来变动的方向是什么？
### 维护
- 错误监控如何处理
- 组件版本号如何规划？
- 文档
- 单测



如何设计一个组件库？