1. 前端向业务服务器发起请求生成二维码
2. 业务服务器带上在微信配置好的appId和secret等参数，向微信服务器发起请求
3. 微信服务器校验业务服务器后，生成一个uuid，并且存起来，生成二维码，和uuid一起返回给业务服务器
4. 业务服务器把二维码和uuid返回给前端
5. 前端展示二维码，并且向微信服务器发起一个长连接，使用uuid作为标志，长连接服务器会一直不返回，超时后前端会重新发起
6. 用户扫码后，用户手机获取到uuid，并且带上uuid向微信服务器发送扫码成功的信息
7. 微信服务器获取到uuid后，根据之前存起来的信息就能知道是哪个二维码被扫了，对应的长连接就会返回扫码成功的信息
8. 前端知道用户扫码成功了，就可以提示用户进行授权，并且重新发起长连接
9. 用户进行授权后，微信服务器在对应的长连接中返回用户的code给前端
10. 前端获取code后发送到业务服务器，业务服务器带上app信息去微信服务器换用户登录token
11. 登录成功，业务服务器发送用户信息给前端