## 1. session cookie
要求子系统之间共享一个主域名，登录后的session信息放在cookie的主域名中，下面的所有子域名都可以带上这个cookie来访问

## 2. 使用认证中心 cookie
用户先访问认证中心登录写入cookie，然后访问子系统，子系统会判断子系统的session cookie，没有的话跳转到认证中心，然后认证中心认证cookie后携带token返回到子系统，子系统再跟用户建立session连接

## 3. 前端localstorage跨域
前端使用特殊手段可以把session信息写到不同的localStorage中，然后请求上带上session信息

## 4。 后端是同一个域名
后端接口都是同一个域名的话，可以把cookie使用set-cookie写到接口域上面。


## 公司实现的
登录后回返回token，前端存到本地，跳转到子应用需要带上，然后子应用请求的时候回带上token，后端接口统一经过认证网关，网关使用redis管理session

前端跨域问题使用手动解决，后端跨域问题使用同一个网关解决

token应该是使用jwt的形式，可是各个系统不会只校验jwt的合法性，而是会去网关校验


# jwt的原理
jwt分成三个部分，头部，负载，签名

头部有加密方法，负载有用户信息，然后把前面两部分做hash处理，然后使用密钥加密得出签名

可以使用公钥解密签名然后把前面的重新hash来计算是否被篡改（跟证书签名一致）


