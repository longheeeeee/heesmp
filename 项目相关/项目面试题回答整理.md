# 项目问题
1. 简单描述码良这个项目做了什么？
2. 接入统一登录权限具体做了什么？
3. 界面交互优化做了什么？
4. 业务组件开发做了什么？
5. 码良有没有做什么优化？
6. 码良的实现难点是什么？
7. 现在有没有还没有解决的问题？
8. 实现过程中有没有开发人员的反馈？

1. 简单描述微前端这个项目做了什么工作？
2. 讲一下权限系统
3. 微前端整个工作流程是什么？
4. 自动刷新token做了什么？原理是什么？
5. 微前端方案对比？
6. webpack5的模块联邦了解吗？
7. 脚手架做了什么工作？
8. 还有没有什么不足？



## 1. 简单描述码良这个项目做了什么？
- 背景：项目的背景是公司很多的落地页因为一些政策或者其他原因，频繁提出修改需求，对开发和管理造成很大的困难，所以需要一个平台能让运营人员自己完成一些简单的修改需求
- 工作：平台使用了开源框架码良进行二次开发，对平台核心实现没有做太多改动，主要工作分成三个部分，接入登录权限，界面交互优化，业务组件开发

## 2. 接入登录权限做了什么？
- 背景、讨论、方案、工作
- 背景：码良自带了登录和权限系统，可是角色只有用户和管理员两种，并且会跟业务线区分，我们统一登录这块没有做业务线区分，角色也更多
- 讨论：不能如果直接使用统一登录的角色，对于码良的改动会比较大，所以我们决定对两个系统做一个关联，并且添加角色到三个
- 方案：最终方案分成两个部分：一个是登录的时候对用户做创建和权限的修改，一个是修改新增角色的相关逻辑
- 登录：用户在统一登录后会携带token访问平台，前端带上token请求后端，后端校验token后查找用户表，选择创建用户或者根据用户角色修改已有用户的权限信息，取最高权限的角色，然后维护一个session，后续的接口请求都用统一登录token进行校验
- 角色修改：根据产品文档去做系统的功能模块的校验显示等

## 3. 界面交互优化做了什么？
- 使用者，运营，开发
- 因为平台设计上应该是给开发人员快速搭建页面使用的，所以自由度会很高，同时有很多的技术门槛，对于运营人员不太友好，所以我们的工作就是根据开发和运营做两套界面和功能限制，在保持开发人员可以快速修改页面的同时也保证运营人员可以低成本的使用这个平台
- 运营人员：改动的点比较零碎，包括添加组件分类，添加颜色选择器，限制用户随意拖动页面元素，屏蔽一些代码入口等等，主要是屏蔽一些代码入口防止误触，把一些他们可能需要修改的东西都做成配置项让他们直接选择或者输入
- 开发人员：对于开发人员，主要是做一些要求和规范，比如删除一些功能，减少使用代码配置，设置一些默认代码，比如请求地址等，让他们尽量把逻辑都写在组件里面

## 4. 规范业务组件开发做了什么？
- 第一版，规范，模板，添加功能
- 主要是做第一版页面的开发，并且结合几个业务线的一些通用逻辑封装成通用组件，完善组件库，比如带有压缩和懒加载的图片组件，轮播组件，按钮组件等，还有把一些业务功能抽离出来，比如微信授权，发起支付等功能
- 并且定下了一些规范，比如封装了请求方法，弹窗，内置了一些ui组件，对于数据共享和事件触发做了规定
- 沉淀出来一套模板，里面有一些组件的开发介绍和例子，方便开发人员开发新组件
- 添加了一些功能，比如开发人员可以填写本地组件地址，然后在特殊的页面可以拉取本地组件进行联调

## 5. 码良有没有做什么优化？
- 平台优化，通用优化，网络优化
- 把组件打包成一个js，然后把页面配置内嵌到html上，减少请求，并且在用户发布页面的时候提示用户统一组件版本，防止冗余
- 添加图片懒加载，添加图片web格式
- 优化埋点请求，使用简单请求
- 优化一些组件，比如头像组件只存几个到本地，其他的放到cdn上，地址数据也放到cdn上
- 整理流程，延后一些sdk的加载
- 添加海外CDN，减少域名

